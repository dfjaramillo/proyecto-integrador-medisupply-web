<div class="app-dialog approve-client-dialog">
  <!-- Hidden localized snackbar messages -->
  <span class="sr-only" i18n="@@clients.approveDialog.loadSellersErrorSnack" #loadSellersError>No se pudieron cargar los gerentes de cuenta.</span>
  <span class="sr-only" i18n="@@clients.approveDialog.approvedSnack" #approvedSnack>Cliente aprobado y asignado correctamente.</span>
  <span class="sr-only" i18n="@@clients.approveDialog.approveErrorSnack" #approveErrorSnack>No se pudo aprobar el cliente. Intenta nuevamente.</span>
  <span class="sr-only" i18n="@@common.close" #closeAction>Cerrar</span>
  <div class="dialog-header">
    <h2 i18n="@@clients.approveDialog.title">Aprobar cliente</h2>
    <button mat-icon-button class="close-btn" (click)="close()" type="button" aria-label="Cerrar diálogo" i18n-aria-label="@@clients.approveDialog.closeAria">
      <span class="material-icons">close</span>
    </button>
  </div>

  <mat-dialog-content>
    <ng-container *ngIf="!loadingSellers(); else loadingBlock">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label i18n="@@clients.approveDialog.accountManagerLabel">Asignar Gerente de cuenta</mat-label>
        <mat-select [value]="selectedSellerId()" (selectionChange)="onSellerChange($event.value)">
          <mat-option *ngFor="let seller of sellers()" [value]="seller.id">{{ seller.name }}</mat-option>
        </mat-select>
      </mat-form-field>
    </ng-container>
    <ng-template #loadingBlock>
      <div class="loading-center">
        <mat-spinner diameter="32" aria-label="Cargando gerentes"></mat-spinner>
      </div>
    </ng-template>
  </mat-dialog-content>

  <mat-dialog-actions>
    <button
      mat-raised-button
      type="button"
      class="primary-action-btn"
      [disabled]="!canSave || saving()"
      (click)="save()"
      [attr.aria-busy]="saving()">
      <ng-container *ngIf="!saving(); else savingTpl">
        <span i18n="@@clients.approveDialog.saveButton">Guardar</span>
      </ng-container>
      <ng-template #savingTpl>
        <mat-spinner diameter="20" aria-hidden="true"></mat-spinner>
        <span class="sr-only" i18n="@@clients.approveDialog.savingSr">Guardando aprobación...</span>
      </ng-template>
    </button>
  </mat-dialog-actions>
</div>
